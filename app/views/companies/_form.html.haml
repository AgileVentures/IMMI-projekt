- content_for :javascript_pack_for_view do
  = javascript_pack_tag 'dinkurs_key_input'

-# Pass in initial values for Vue.js instances via the data attributes
   in this (empty) div.
   See app/javascript/packs/dinkurs_key_input.js to see an example of how
   the data is accessed to initialize instance data.

= tag.div nil, id: 'initial_data',
          data: { dinkurskey: @company.dinkurs_company_id }

= form_for @company, html: { class: "#{class_name}" } do |f|

  != model_errors_helper(@company)

  = f.label :name, "#{t('companies.company_name')}", class: 'required'
  = f.text_field :name, class: 'wpcf7-form-control'

  %div
    = f.label :company_number, "#{t('companies.show.company_number')}", class: 'required'

    %span.glyphicon.glyphicon-info-sign{ title: "#{t('.org_nr_tooltip')}",
                                         data: {toggle: 'tooltip'} }
  = f.number_field :company_number, class: 'wpcf7-form-control'

  = f.label :phone_number, "#{t('companies.telephone_number')}"
  = f.text_field :phone_number, class: 'wpcf7-form-control'

  = f.label :email, "#{t('companies.show.email')}", class: 'required'
  = f.text_field :email, class: 'wpcf7-form-control'

  = f.label :website, "#{t('companies.website_include_http')}"
  = f.text_field :website, class: 'wpcf7-form-control'

  .form-group#dinkurs-company-id( style='width: 100%;' )
    .col-sm-6( style='padding: 0;')
      = f.label :dinkurs_company_id, "#{t('companies.show.dinkurs_key')}"

      -# %span.glyphicon.glyphicon-info-sign{ title: "#{t('.dinkurs_id_tooltip')}",
      -#                                      data: {toggle: 'tooltip'} }

      %span.glyphicon.glyphicon-info-sign( v-tooltip:top="\"#{t('.dinkurs_id_tooltip')}\"" )

      = f.text_field :dinkurs_company_id, class: 'wpcf7-form-control',
                     'v-model': 'dinkurs_key'

    .col-sm-6
      %transition( name='fade' )
        %div( v-if="dinkurs_key.length > 0" )
          %div
            = f.label :show_dinkurs_events, "#{t('companies.show_dinkurs_events')}"

            -# %span.glyphicon.glyphicon-info-sign{ title: "#{t('.dinkurs_show_tooltip')}",
            -#                                      data: {toggle: 'tooltip'} }

            %span.glyphicon.glyphicon-info-sign( v-tooltip:top="\"#{t('.dinkurs_show_tooltip')}\"" )

          %label.switch
            = f.check_box :show_dinkurs_events, {}, "true", "false"
            %span.slider

  = f.label :description, "#{t('companies.description')}"
  = f.cktext_area :description, class: 'wpcf7-form-control'

  = f.submit "#{t('submit')}"
